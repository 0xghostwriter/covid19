---
layout: "page.njk"
title: "Search"
meta: "Search the Covid19 website."
author: "State of California"
publishdate: "2020-03-23T22:00:00Z"
addtositemap: true
---
<style>
   .aside { 
       position: relative!important;
 }
</style>

<h2>Search this website</h2>
<label id="SearchInput" for="q">Enter your search text</label>

<div class="gcse-search" enableAutoComplete="true"></div>


<script>
	const cx = '003358532045999200914:uxxka6d3pge';
	const gcse = document.createElement('script');
	gcse.type = 'text/javascript';
	gcse.async = true;
	gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
	const s = document.getElementsByTagName('script');
	s[s.length - 1].parentNode.insertBefore(gcse, s[s.length - 1]);


	const myWebSearchStartingCallback = (gname, query) => {
		console.log(gname);
		console.log(query)
		fetch(`https://fa-go-alph-covidqna-001.azurewebsites.net/api/CovidAnswer?q=${query}&name=123`)
		.then(response => response.json())
		.then(data => {
			let answers = [...data[0].answers, ...data[1].answers];
			let html = `<h4>Quick answers</h4>
				<ul>${answers.map(function(a) {
					if(a.questions.length > 0) {
						return `<cwds-accordion>
							<div class="card"><button class="card-header accordion-alpha" type="button" aria-expanded="false">
									<div class="accordion-title">${a.questions[0]}</div>
								</button>
								<div class="card-container collapsed">
									<div class="card-body">
										<p>${a.answer}</p>
										<p>more info: <a href="${a.source}">${a.source}</a></p>
									</div>
								</div>
							</div>
						</cwds-accordion>`;
					} else {
						return '';
					}
			}).join('	')}</ul>`
			if(!document.querySelector('#answersNow')) {
				document.querySelector(".gsc-search-box.gsc-search-box-tools").insertAdjacentHTML('afterend','<div id="answersNow"></div>');
			}
			document.querySelector('#answersNow').innerHTML = html;
		});
	}
	window.myImageSearchStartingCallbackName = myWebSearchStartingCallback;

	window.__gcse || (window.__gcse = {});
    window.__gcse.searchCallbacks = {
      web: {
        starting: myWebSearchStartingCallback,
      },
    };
</script> 